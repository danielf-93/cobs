<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>isi: isi::compact_index Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">isi
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">An Inverted Signature Index for Approximate Search on Genomic Data</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceisi_1_1compact__index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">isi::compact_index Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The compact Inverted Signature Index with the space-saving improvements.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abef85a9d3ccb915c0e75b04dc63f8e4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#abef85a9d3ccb915c0e75b04dc63f8e4a">create_folders</a> (const std::experimental::filesystem::path &amp;in_dir, const std::experimental::filesystem::path &amp;out_dir, uint64_t page_size=<a class="el" href="namespaceisi.html#aaf262f126692dbe339f61b8d94fe921f">get_page_size</a>())</td></tr>
<tr class="memdesc:abef85a9d3ccb915c0e75b04dc63f8e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the folders used by the <a class="el" href="namespaceisi_1_1compact__index.html#a3247b158ae2e28b507008831116a2858" title="Creates the folders used by the isi::compact_index::create_from_samples. ">isi::compact_index::create_from_folders</a>.  <a href="#abef85a9d3ccb915c0e75b04dc63f8e4a">More...</a><br /></td></tr>
<tr class="separator:abef85a9d3ccb915c0e75b04dc63f8e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc915555f66128199a1c61bf09abed5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#abc915555f66128199a1c61bf09abed5c">create_classic_index_from_samples</a> (const std::experimental::filesystem::path &amp;in_dir, const std::experimental::filesystem::path &amp;out_dir, size_t batch_size, size_t num_hashes, double false_positive_probability, uint64_t page_size)</td></tr>
<tr class="separator:abc915555f66128199a1c61bf09abed5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a094e851913118d63ffffe04c099b3834"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#a094e851913118d63ffffe04c099b3834">combine_classic_index</a> (const std::experimental::filesystem::path &amp;in_dir, const std::experimental::filesystem::path &amp;out_dir, size_t batch_size)</td></tr>
<tr class="separator:a094e851913118d63ffffe04c099b3834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af15519920f545a5eb2de95ff97193330"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#af15519920f545a5eb2de95ff97193330">create_compact_index</a> (const std::experimental::filesystem::path &amp;in_dir, const std::experimental::filesystem::path &amp;out_file, uint64_t page_size)</td></tr>
<tr class="separator:af15519920f545a5eb2de95ff97193330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3247b158ae2e28b507008831116a2858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#a3247b158ae2e28b507008831116a2858">create_from_folders</a> (const std::experimental::filesystem::path &amp;in_dir, size_t batch_size, size_t num_hashes, double false_positive_probability, uint64_t page_size=<a class="el" href="namespaceisi.html#aaf262f126692dbe339f61b8d94fe921f">get_page_size</a>())</td></tr>
<tr class="memdesc:a3247b158ae2e28b507008831116a2858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the folders used by the isi::compact_index::create_from_samples.  <a href="#a3247b158ae2e28b507008831116a2858">More...</a><br /></td></tr>
<tr class="separator:a3247b158ae2e28b507008831116a2858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76fb0d7fc5661ce8e4a16e19d21d1ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#ae76fb0d7fc5661ce8e4a16e19d21d1ae">create</a> (const std::experimental::filesystem::path &amp;in_dir, std::experimental::filesystem::path out_dir, size_t batch_size, size_t num_hashes, double false_positive_probability, uint64_t page_size=<a class="el" href="namespaceisi.html#aaf262f126692dbe339f61b8d94fe921f">get_page_size</a>())</td></tr>
<tr class="memdesc:ae76fb0d7fc5661ce8e4a16e19d21d1ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the index by executing all necessary steps.  <a href="#ae76fb0d7fc5661ce8e4a16e19d21d1ae">More...</a><br /></td></tr>
<tr class="separator:ae76fb0d7fc5661ce8e4a16e19d21d1ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2918a79cd22349c112589595f485cfea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceisi_1_1compact__index.html#a2918a79cd22349c112589595f485cfea">create_dummy</a> (const std::experimental::filesystem::path &amp;p, size_t signature_size, size_t block_size, size_t num_hashes)</td></tr>
<tr class="memdesc:a2918a79cd22349c112589595f485cfea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a dummy index filled with random data.  <a href="#a2918a79cd22349c112589595f485cfea">More...</a><br /></td></tr>
<tr class="separator:a2918a79cd22349c112589595f485cfea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The compact Inverted Signature Index with the space-saving improvements. </p>
<p>This namespace provides methods for creation of this index. It can either be created from existing samples or with random dummy data for performance testing purposes. The index uses different signature sizes to minimize space wastage. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a094e851913118d63ffffe04c099b3834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a094e851913118d63ffffe04c099b3834">&#9670;&nbsp;</a></span>combine_classic_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isi::compact_index::combine_classic_index </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>in_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>out_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>batch_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae76fb0d7fc5661ce8e4a16e19d21d1ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76fb0d7fc5661ce8e4a16e19d21d1ae">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isi::compact_index::create </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>in_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::experimental::filesystem::path&#160;</td>
          <td class="paramname"><em>out_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_hashes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>false_positive_probability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>page_size</em> = <code><a class="el" href="namespaceisi.html#aaf262f126692dbe339f61b8d94fe921f">get_page_size</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the index by executing all necessary steps. </p>
<p>First calls <a class="el" href="namespaceisi_1_1compact__index.html#abef85a9d3ccb915c0e75b04dc63f8e4a" title="Creates the folders used by the isi::compact_index::create_from_folders. ">isi::compact_index::create_folders</a> to sort the samples by size and then split them into multiple batches. Afterwards combines these indices with a call to <a class="el" href="namespaceisi_1_1compact__index.html#a3247b158ae2e28b507008831116a2858" title="Creates the folders used by the isi::compact_index::create_from_samples. ">isi::compact_index::create_from_folders</a>. </p>

</div>
</div>
<a id="abc915555f66128199a1c61bf09abed5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc915555f66128199a1c61bf09abed5c">&#9670;&nbsp;</a></span>create_classic_index_from_samples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isi::compact_index::create_classic_index_from_samples </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>in_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>out_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_hashes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>false_positive_probability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>page_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af15519920f545a5eb2de95ff97193330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af15519920f545a5eb2de95ff97193330">&#9670;&nbsp;</a></span>create_compact_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isi::compact_index::create_compact_index </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>in_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>out_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>page_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2918a79cd22349c112589595f485cfea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2918a79cd22349c112589595f485cfea">&#9670;&nbsp;</a></span>create_dummy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isi::compact_index::create_dummy </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>signature_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_hashes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a dummy index filled with random data. </p>

</div>
</div>
<a id="abef85a9d3ccb915c0e75b04dc63f8e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef85a9d3ccb915c0e75b04dc63f8e4a">&#9670;&nbsp;</a></span>create_folders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isi::compact_index::create_folders </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>in_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>out_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>page_size</em> = <code><a class="el" href="namespaceisi.html#aaf262f126692dbe339f61b8d94fe921f">get_page_size</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the folders used by the <a class="el" href="namespaceisi_1_1compact__index.html#a3247b158ae2e28b507008831116a2858" title="Creates the folders used by the isi::compact_index::create_from_samples. ">isi::compact_index::create_from_folders</a>. </p>
<p>Sorts the samples by file size and then splits them into several directories. </p>

</div>
</div>
<a id="a3247b158ae2e28b507008831116a2858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3247b158ae2e28b507008831116a2858">&#9670;&nbsp;</a></span>create_from_folders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isi::compact_index::create_from_folders </td>
          <td>(</td>
          <td class="paramtype">const std::experimental::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>in_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_hashes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>false_positive_probability</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>page_size</em> = <code><a class="el" href="namespaceisi.html#aaf262f126692dbe339f61b8d94fe921f">get_page_size</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the folders used by the isi::compact_index::create_from_samples. </p>
<p>Sorts the samples by file size and then splits them into several directories. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceisi.html">isi</a></li><li class="navelem"><a class="el" href="namespaceisi_1_1compact__index.html">compact_index</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
